<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1400 800" width="1400" height="800">
  <defs>
    <!-- Arrow markers -->
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#333" />
    </marker>
    <marker id="arrowhead-skip" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#999" />
    </marker>

    <!-- Filters for shadows -->
    <filter id="shadow" x="-50%" y="-50%" width="200%" height="200%">
      <feDropShadow dx="2" dy="2" stdDeviation="3" flood-opacity="0.3"/>
    </filter>
  </defs>

  <!-- Background -->
  <rect width="1400" height="800" fill="#fafafa"/>

  <!-- Title -->
  <text x="700" y="40" font-family="Arial, sans-serif" font-size="28" font-weight="bold" text-anchor="middle" fill="#333">
    6단계 통합 칸반 구조
  </text>
  <text x="700" y="65" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#666">
    development, defect, infrastructure 카테고리 통합
  </text>

  <!-- Kanban Columns -->
  <g id="kanban-columns" transform="translate(50, 100)">
    <!-- Column Headers -->
    <rect x="0" y="0" width="200" height="50" rx="8" fill="#e3f2fd" stroke="#1565c0" stroke-width="2"/>
    <text x="100" y="32" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#1565c0">Todo [ ]</text>

    <rect x="220" y="0" width="200" height="50" rx="8" fill="#e8f5e9" stroke="#2e7d32" stroke-width="2"/>
    <text x="320" y="32" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#2e7d32">Design [bd]</text>

    <rect x="440" y="0" width="200" height="50" rx="8" fill="#e8f5e9" stroke="#43a047" stroke-width="2"/>
    <text x="540" y="32" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#43a047">Detail [dd]</text>

    <rect x="660" y="0" width="200" height="50" rx="8" fill="#fff3e0" stroke="#ef6c00" stroke-width="2"/>
    <text x="760" y="32" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#ef6c00">Implement [im]</text>

    <rect x="880" y="0" width="200" height="50" rx="8" fill="#fce4ec" stroke="#c2185b" stroke-width="2"/>
    <text x="980" y="32" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#c2185b">Verify [vf]</text>

    <rect x="1100" y="0" width="200" height="50" rx="8" fill="#eceff1" stroke="#455a64" stroke-width="2"/>
    <text x="1200" y="32" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#455a64">Done [xx]</text>
  </g>

  <!-- Category Flows -->
  <g id="category-flows" transform="translate(50, 180)">
    <!-- development flow -->
    <g id="development-flow">
      <rect x="0" y="0" width="1300" height="100" rx="8" fill="#f5f5f5" stroke="#ddd" stroke-width="1"/>
      <text x="15" y="25" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#1976d2">development</text>

      <!-- Flow boxes -->
      <rect x="30" y="45" width="140" height="40" rx="6" fill="#e3f2fd" stroke="#1565c0" stroke-width="2"/>
      <text x="100" y="70" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#1565c0">[ ] Todo</text>

      <line x1="170" y1="65" x2="240" y2="65" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
      <text x="205" y="55" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#333">start</text>

      <rect x="250" y="45" width="140" height="40" rx="6" fill="#e8f5e9" stroke="#2e7d32" stroke-width="2"/>
      <text x="320" y="70" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#2e7d32">[bd] 기본설계</text>

      <line x1="390" y1="65" x2="460" y2="65" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
      <text x="425" y="55" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#333">draft</text>

      <rect x="470" y="45" width="140" height="40" rx="6" fill="#e8f5e9" stroke="#43a047" stroke-width="2"/>
      <text x="540" y="70" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#43a047">[dd] 상세설계</text>

      <line x1="610" y1="65" x2="680" y2="65" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
      <text x="645" y="55" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#333">build</text>

      <rect x="690" y="45" width="140" height="40" rx="6" fill="#fff3e0" stroke="#ef6c00" stroke-width="2"/>
      <text x="760" y="70" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#ef6c00">[im] 구현</text>

      <line x1="830" y1="65" x2="900" y2="65" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
      <text x="865" y="55" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#333">verify</text>

      <rect x="910" y="45" width="140" height="40" rx="6" fill="#fce4ec" stroke="#c2185b" stroke-width="2"/>
      <text x="980" y="70" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#c2185b">[vf] 검증</text>

      <line x1="1050" y1="65" x2="1120" y2="65" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
      <text x="1085" y="55" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#333">done</text>

      <rect x="1130" y="45" width="140" height="40" rx="6" fill="#eceff1" stroke="#455a64" stroke-width="2"/>
      <text x="1200" y="70" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#455a64">[xx] 완료</text>
    </g>

    <!-- defect flow -->
    <g id="defect-flow" transform="translate(0, 120)">
      <rect x="0" y="0" width="1300" height="100" rx="8" fill="#fff8e1" stroke="#ddd" stroke-width="1"/>
      <text x="15" y="25" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#e65100">defect</text>

      <!-- Flow boxes -->
      <rect x="30" y="45" width="140" height="40" rx="6" fill="#e3f2fd" stroke="#1565c0" stroke-width="2"/>
      <text x="100" y="70" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#1565c0">[ ] Todo</text>

      <!-- Skip Design -->
      <path d="M 170 65 Q 310 20 460 65" stroke="#999" stroke-width="1.5" stroke-dasharray="5,3" fill="none" marker-end="url(#arrowhead-skip)"/>
      <text x="310" y="30" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#999">Design 스킵</text>

      <line x1="170" y1="65" x2="460" y2="65" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
      <text x="315" y="80" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#333">start</text>

      <rect x="470" y="45" width="140" height="40" rx="6" fill="#e8f5e9" stroke="#43a047" stroke-width="2"/>
      <text x="540" y="70" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#43a047">[an] 분석</text>

      <line x1="610" y1="65" x2="680" y2="65" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
      <text x="645" y="55" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#333">fix</text>

      <rect x="690" y="45" width="140" height="40" rx="6" fill="#fff3e0" stroke="#ef6c00" stroke-width="2"/>
      <text x="760" y="70" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#ef6c00">[fx] 수정</text>

      <line x1="830" y1="65" x2="900" y2="65" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
      <text x="865" y="55" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#333">verify</text>

      <rect x="910" y="45" width="140" height="40" rx="6" fill="#fce4ec" stroke="#c2185b" stroke-width="2"/>
      <text x="980" y="70" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#c2185b">[vf] 검증</text>

      <line x1="1050" y1="65" x2="1120" y2="65" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
      <text x="1085" y="55" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#333">done</text>

      <rect x="1130" y="45" width="140" height="40" rx="6" fill="#eceff1" stroke="#455a64" stroke-width="2"/>
      <text x="1200" y="70" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#455a64">[xx] 완료</text>
    </g>

    <!-- infrastructure flow -->
    <g id="infrastructure-flow" transform="translate(0, 240)">
      <rect x="0" y="0" width="1300" height="100" rx="8" fill="#e8eaf6" stroke="#ddd" stroke-width="1"/>
      <text x="15" y="25" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#5c6bc0">infrastructure</text>

      <!-- Flow boxes -->
      <rect x="30" y="45" width="140" height="40" rx="6" fill="#e3f2fd" stroke="#1565c0" stroke-width="2"/>
      <text x="100" y="70" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#1565c0">[ ] Todo</text>

      <!-- Skip to Detail (start) -->
      <line x1="170" y1="65" x2="460" y2="65" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
      <text x="315" y="55" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#333">start</text>

      <!-- Skip to Implement (skip) -->
      <path d="M 170 65 Q 430 10 680 65" stroke="#999" stroke-width="1.5" stroke-dasharray="5,3" fill="none" marker-end="url(#arrowhead-skip)"/>
      <text x="430" y="20" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#999">skip (설계 생략)</text>

      <rect x="470" y="45" width="140" height="40" rx="6" fill="#e8f5e9" stroke="#43a047" stroke-width="2"/>
      <text x="540" y="70" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#43a047">[dd] 설계</text>

      <line x1="610" y1="65" x2="680" y2="65" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
      <text x="645" y="55" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#333">build</text>

      <rect x="690" y="45" width="140" height="40" rx="6" fill="#fff3e0" stroke="#ef6c00" stroke-width="2"/>
      <text x="760" y="70" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#ef6c00">[im] 구현</text>

      <!-- Skip Verify -->
      <path d="M 830 65 Q 980 20 1120 65" stroke="#999" stroke-width="1.5" stroke-dasharray="5,3" fill="none" marker-end="url(#arrowhead-skip)"/>
      <text x="980" y="30" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#999">Verify 스킵</text>

      <line x1="830" y1="65" x2="1120" y2="65" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
      <text x="975" y="80" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#333">done</text>

      <rect x="1130" y="45" width="140" height="40" rx="6" fill="#eceff1" stroke="#455a64" stroke-width="2"/>
      <text x="1200" y="70" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#455a64">[xx] 완료</text>
    </g>
  </g>

  <!-- Legend -->
  <g id="legend" transform="translate(50, 570)">
    <text x="0" y="0" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#333">범례 (Legend)</text>

    <rect x="0" y="25" width="100" height="35" rx="6" fill="#e3f2fd" stroke="#1565c0" stroke-width="2"/>
    <text x="50" y="48" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#1565c0">Todo</text>

    <rect x="120" y="25" width="100" height="35" rx="6" fill="#e8f5e9" stroke="#2e7d32" stroke-width="2"/>
    <text x="170" y="48" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#2e7d32">Design</text>

    <rect x="240" y="25" width="100" height="35" rx="6" fill="#e8f5e9" stroke="#43a047" stroke-width="2"/>
    <text x="290" y="48" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#43a047">Detail</text>

    <rect x="360" y="25" width="100" height="35" rx="6" fill="#fff3e0" stroke="#ef6c00" stroke-width="2"/>
    <text x="410" y="48" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#ef6c00">Implement</text>

    <rect x="480" y="25" width="100" height="35" rx="6" fill="#fce4ec" stroke="#c2185b" stroke-width="2"/>
    <text x="530" y="48" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#c2185b">Verify</text>

    <rect x="600" y="25" width="100" height="35" rx="6" fill="#eceff1" stroke="#455a64" stroke-width="2"/>
    <text x="650" y="48" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#455a64">Done</text>

    <!-- Skip indicator -->
    <line x1="750" y1="42" x2="850" y2="42" stroke="#999" stroke-width="1.5" stroke-dasharray="5,3"/>
    <text x="900" y="47" font-family="Arial, sans-serif" font-size="11" fill="#999">스킵 가능 단계</text>
  </g>

  <!-- Mapping Table -->
  <g id="mapping-table" transform="translate(50, 650)">
    <text x="0" y="0" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#333">칸반 매핑</text>

    <text x="0" y="30" font-family="Arial, sans-serif" font-size="13" fill="#555">
      <tspan font-weight="bold" fill="#1976d2">development:</tspan> Todo -> Design -> Detail -> Implement -> Verify -> Done (전체 단계)
    </text>
    <text x="0" y="55" font-family="Arial, sans-serif" font-size="13" fill="#555">
      <tspan font-weight="bold" fill="#e65100">defect:</tspan> Todo -> Detail(분석) -> Implement(수정) -> Verify(검증) -> Done (Design 스킵)
    </text>
    <text x="0" y="80" font-family="Arial, sans-serif" font-size="13" fill="#555">
      <tspan font-weight="bold" fill="#5c6bc0">infrastructure:</tspan> Todo -> Detail(설계)? -> Implement -> Done (Design/Verify 스킵, 설계 선택적, dd 상태 사용)
    </text>
  </g>

  <!-- Footer -->
  <text x="700" y="780" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#999">
    JJIban - 6단계 통합 칸반 구조 v2.6
  </text>
</svg>
