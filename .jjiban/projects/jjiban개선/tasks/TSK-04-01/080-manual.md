# 사용자 매뉴얼 (080-manual.md)

**Version:** 1.0.0 — **Last Updated:** 2025-12-26

---

## 0. 문서 메타데이터

| 항목 | 내용 |
|------|------|
| Task ID | TSK-04-01 |
| Task명 | 전역 터미널 및 워크플로우 통합 |
| Category | development |
| 작성일 | 2025-12-26 |
| 작성자 | Claude |

---

## 1. 개요

### 1.1 기능 소개

jjiban 웹 UI에서 Claude Code 터미널을 사용하여 워크플로우 명령어를 직접 실행할 수 있는 통합 기능입니다.

**주요 기능:**
- AppHeader의 터미널 아이콘을 통한 전역 터미널 접근
- Task 상세 화면에서 워크플로우 버튼 클릭으로 Claude Code 명령어 실행
- 실시간 실행 상태 및 출력 확인

### 1.2 대상 사용자

- jjiban을 사용하여 프로젝트를 관리하는 개발자
- LLM CLI 기반 워크플로우를 웹 UI에서 실행하고자 하는 사용자

---

## 2. 시작하기

### 2.1 사전 요구사항

| 항목 | 요구사항 |
|------|----------|
| Node.js | 20.x 이상 |
| Claude Code CLI | 설치 및 인증 완료 |
| jjiban 서버 | 실행 중 |

### 2.2 접근 방법

1. jjiban 웹 서버 실행: `npm run dev`
2. 브라우저에서 `http://localhost:3000` 접속
3. 프로젝트 선택 후 Task 상세 화면 진입

---

## 3. 사용 방법

### 3.1 터미널 아이콘

**위치**: AppHeader 우측 상단

**기능:**
- 터미널 아이콘 클릭 → TerminalDialog 열기
- 배지: 현재 실행 중인 Claude Code 세션 개수 표시
- 깜빡임(Pulse): 실행 중인 세션 존재 시 시각적 표시

![터미널 아이콘](https://via.placeholder.com/150x40?text=Terminal+Icon)

### 3.2 터미널 다이얼로그

**구조:**

```
┌────────────────────────────────────────────────────────┐
│ Claude Code 터미널                              [X]    │
├──────────────┬─────────────────────────────────────────┤
│ 세션 목록     │ 출력 영역                               │
│              │                                         │
│ [세션-1] ✓   │ $ /wf:build TSK-01-01                   │
│ [세션-2]     │ > Building...                           │
│              │ > Done.                                 │
│              │                                         │
│              ├─────────────────────────────────────────┤
│              │ [입력창] [실행] [중지] [클리어]          │
└──────────────┴─────────────────────────────────────────┘
```

**세션 목록:**
- 모든 Claude Code 세션 표시
- 클릭하여 세션 전환
- 상태 태그: `running` (실행 중), `success` (성공), `error` (실패)
- 휴지통 아이콘: 세션 삭제

**출력 영역:**
- 선택된 세션의 실시간 출력 표시
- 자동 스크롤

**입력 영역:**
- 명령어 직접 입력 가능
- Enter 또는 실행 버튼: 명령어 전송
- 중지 버튼: 실행 중인 세션 취소

### 3.3 워크플로우 버튼

**위치**: Task 상세 화면 → TaskProgress 섹션

**동작:**
1. Task 선택
2. 현재 상태에 맞는 워크플로우 버튼 표시
3. 버튼 클릭 → Claude Code 세션 생성 및 명령어 자동 실행

**예시:**
| 현재 상태 | 가능한 버튼 |
|----------|------------|
| `[bd]` 기본설계 | `draft` (상세설계) |
| `[dd]` 상세설계 | `approve` (설계승인) |
| `[im]` 구현 | `verify` (검증) |
| `[vf]` 검증 | `done` (완료) |

---

## 4. FAQ

### Q1. 터미널 아이콘이 표시되지 않습니다.

**A:** AppHeader 컴포넌트에 TerminalHeaderIcon이 포함되어 있는지 확인하세요. 브라우저 캐시를 클리어하고 새로고침 해보세요.

### Q2. 워크플로우 버튼을 클릭해도 반응이 없습니다.

**A:** 다음을 확인하세요:
- Claude Code CLI가 설치되어 있는지 확인
- 터미널 다이얼로그에서 세션 상태 확인
- 브라우저 개발자 도구에서 에러 로그 확인

### Q3. 세션이 생성되지만 명령어가 실행되지 않습니다.

**A:** Claude Code 인증이 완료되었는지 확인하세요. `claude auth` 명령어로 인증 상태를 확인할 수 있습니다.

### Q4. 출력이 표시되지 않습니다.

**A:** SSE(Server-Sent Events) 연결 상태를 확인하세요. 네트워크 탭에서 `/api/claude-code/session/{id}/stream` 요청이 정상인지 확인하세요.

---

## 5. 문제 해결

### 5.1 일반적인 문제

| 증상 | 원인 | 해결 방법 |
|------|------|----------|
| 터미널 아이콘 미표시 | 컴포넌트 로드 실패 | 페이지 새로고침 |
| 세션 생성 실패 | API 오류 | 서버 로그 확인, 재시작 |
| 명령어 실행 실패 | Claude Code 미설치 | `npm install -g claude-code` |
| 출력 누락 | SSE 연결 끊김 | 세션 재생성 |

### 5.2 로그 확인

**서버 로그:**
```bash
# Nuxt 서버 로그
npm run dev
```

**클라이언트 로그:**
- 브라우저 개발자 도구 → Console 탭

---

## 6. 참고 자료

### 6.1 관련 문서

| 문서 | 경로 |
|------|------|
| 기본설계 | `010-basic-design.md` |
| 화면설계 | `011-ui-design.md` |
| 상세설계 | `020-detail-design.md` |
| 구현 문서 | `030-implementation.md` |
| 통합테스트 | `070-integration-test.md` |

### 6.2 관련 Task

| Task | 설명 |
|------|------|
| TSK-01-02 | 터미널 UI 컴포넌트 |
| TSK-02-01 | 워크플로우 액션 UI |
| TSK-02-02 | 워크플로우 프롬프트 생성 |
| TSK-02-03 | 워크플로우 타입 및 스토어 |

### 6.3 참조 PRD 섹션

- PRD 3.1: AppHeader 요구사항
- PRD 5.3: TaskDetailPanel 요구사항

---

## 변경 이력

| 버전 | 날짜 | 작성자 | 변경 내용 |
|------|------|--------|----------|
| 1.0.0 | 2025-12-26 | Claude | 최초 작성 |

---

<!--
TSK-04-01 사용자 매뉴얼
author: Claude
Version: 1.0.0
-->
